<!DOCTYPE html>
<html>
<head>
    <title>Inventory List</title>
    <style>
        table { border-collapse: collapse; width: 100%; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
        th { background-color: #f0f0f0; }
        img { width: 120px; height: auto; }
        .barcode { text-align: center; }
        button { padding: 6px 10px; margin-top: 4px; background-color: #0078D7; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: #005fa3; }
    </style>
</head>
<body>
    <h1>Current Inventory</h1>
    <a href="/">Home</a> | 
    <a href="/add">Add New Item</a> | 
    <a href="/remove-edit">Remove/Edit Item</a>

    {% if items %}
    <table>
        <tr>
            <th>ID</th>
            <th>Category</th>
            <th>Name</th>
            <th>Color</th>
            <th>Height</th>
            <th>Width</th>
            <th>Depth</th>
            <th>Material</th>
            <th>Cost</th>
            <th>Price</th>
            <th>Barcode</th>
        </tr>
        {% for item in items %}
        <tr>
            <td>{{ item.id }}</td>
            <td>{{ item.category }}</td>
            <td>{{ item.name }}</td>
            <td>{{ item.color }}</td>
            <td>{{ item.height }}</td>
            <td>{{ item.width }}</td>
            <td>{{ item.depth }}</td>
            <td>{{ item.material }}</td>
            <td>{{ item.cost }}</td>
            <td>{{ item.price }}</td>
            <td class="barcode">
                {% if item.barcode_path %}
                    <img id="barcode-{{ item.id }}" src="{{ url_for('static', path='barcodes/' + item.barcode_path) }}" alt="Barcode">
                    <br>
                    <button onclick="printBarcode('barcode-{{ item.id }}')">Print</button>
                {% else %}
                    No Barcode
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
        <p>No items found in the database.</p>
    {% endif %}

    <script>
    function printBarcode(barcodeId) {
        const barcode = document.getElementById(barcodeId);
        const printWindow = window.open('', '_blank');
        printWindow.document.write('<html><head><title>Print Barcode</title></head><body style="text-align:center;">');
        printWindow.document.write('<h2>Item Barcode</h2>');
        printWindow.document.write(barcode.outerHTML);
        printWindow.document.write('</body></html>');
        printWindow.document.close();
        printWindow.print();
    }
    </script>
</body>
</html>
